<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.*?>

<StackPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.campus.management.controller.OrganizerController"
            stylesheets="@theme.css">

    <HBox fx:id="rootContainer" alignment="center">
        <VBox styleClass="Profile-container">
            <VBox styleClass="Profile-card" alignment="center">
                <ImageView fitWidth="160" preserveRatio="true" fx:id="profileImage" />
                <Label fx:id="orgainizer_name" text="Profile"/>
                <Label fx:id="orgainizer_username" text="Logged in as: Organizer" styleClass="subtitle"/>
                <VBox style="-fx-padding:15px 0" spacing="5" alignment="center">
                    <Button text="+ Create New Event"
                            styleClass="primary-button"
                            onAction="#handleCreateEvent"/>
                    <Button text=" Log out"
                            styleClass="secondary-button"
                            onAction="#onLogout"/>
                </VBox>
            </VBox>
        </VBox>
        <VBox spacing="25" fx:id="MainContentContainer" style="-fx-padding:20px; -fx-background-color:white">
            <HBox spacing="20" styleClass="header" >
                <VBox>
                    <Label text="Campus Event Management" styleClass="title"/>
                </VBox>
            </HBox>
            <!-- Stats Cards -->
            <HBox spacing="20">
                <VBox styleClass="blue stat-card ">
                    <Label text="My Events" styleClass="stat-label"/>
                    <Label fx:id="eventNoLabel" text="4" styleClass="stat-value"/>
                </VBox>

                <VBox styleClass="stat-card green">
                    <Label text="Total Attendees" styleClass="stat-label"/>
                    <Label fx:id="attendersLabel" text="1203" styleClass="stat-value"/>
                </VBox>

            </HBox>
            <!-- Tabs -->
            <TabPane>
                <Tab text="My Events" closable="false">
                    <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS">
                        <VBox  fx:id="EventContainer" spacing="10"
                                   style="-fx-padding:10" />
                    </ScrollPane>
                </Tab>

                <Tab text="Analytics" closable="false">
                    <ScrollPane fitToWidth="true">
                        <VBox spacing="20" style="-fx-padding: 20;">
                            <HBox spacing="20">
                                <VBox styleClass="card" HBox.hgrow="ALWAYS">
                                    <Label text="Events by Category" styleClass="subtitle"/>
                                    <PieChart fx:id="categoryChart" legendSide="RIGHT"/>
                                </VBox>
                                <VBox styleClass="card" HBox.hgrow="ALWAYS">
                                    <Label text="Attendance Overview" styleClass="subtitle"/>
                                    <BarChart fx:id="attendanceChart" legendVisible="false">
                                        <xAxis>
                                            <CategoryAxis label="Event" fx:id="xAxis"/>
                                        </xAxis>
                                        <yAxis>
                                            <NumberAxis label="Attendees" fx:id="yAxis"/>
                                        </yAxis>
                                    </BarChart>
                                </VBox>
                            </HBox>
                        </VBox>
                    </ScrollPane>
                </Tab>
            </TabPane>

        </VBox>
    </HBox>

</StackPane>
